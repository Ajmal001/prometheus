<!DOCTYPE html>
<html>
	<head>
		<title>Prometheus</title>
		<link rel="stylesheet" type="text/css" href="style/reset.css">
		<link rel="stylesheet" type="text/css" href="style/main.css">
		<!--<link rel="icon" type="img/png" href="style/favicon.png" style="width:30px;">-->
		<!-- IMPORTED SCRIPTS -->
		<link href='https://fonts.googleapis.com/css?family=Graduate|Gafata' rel='stylesheet' type='text/css'>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
		<script src="npm/prometheus.js"></script>
		<style>



		</style>
	</head>

	<body>

		<h1>Features</h1>
		<ul id="feature-list">
			<li>Nothing to see here!</li>
		</ul>

		<a href="contact.html"><button>Contact Us</button></a>

		<button class="page-button" id="error-button">Click for an Error!</button>

		<script type="text/javascript">

			var prometheus = Prometheus({
				apiKey: "AIzaSyAEv8mrdbxqO3efPHLrYW4B1LYrb-SDItQ",
				authDomain: "prometheusjs-1240.firebaseapp.com",
				databaseURL: "https://prometheusjs-1240.firebaseio.com",
				storageBucket: "prometheusjs-1240.appspot.com",
				icon: "https://v.cdn.vine.co/r/avatars/453D86296A1289362655722774528_4dd5b70336c.5.0.jpg"
			});

			prometheus.save({type: "FEATURES_LIST"});

			prometheus.deliver('show-features', function(){
				var features = [
					"Track user retention and engagement metrics.",
					"Separate business logic from app logic.",
					"Manage analytics from a customizable dashboard."
				];
				var list = document.getElementById('feature-list');
				list.innerHTML = '';
				for(var i = 0; i < features.length; i++){
					list.innerHTML += '<li>' + features[i] + '</li>';
				}
				prometheus.capture({
					type: 'SCREEN_CAPTURE',
					caption: 'Feature: show-features is released to this user.'
				});
			}, function(){
				var list = document.getElementById('feature-list');
				list.innerHTML += '<li>The feature list is not available to you yet.</li>';
				prometheus.capture({
					type: 'SCREEN_CAPTURE',
					caption: 'Feature: show-features is not released to this user.'
				});
			});

			prometheus.notify('features-note', {
				title: "New Features",
				message: "We're considering adding some new features. Click to reveal them."
			}, function(){
				var features = [
					"Send web notifications to specific users from the dashboard.",
					"Integrate with new Firebase 3.0 features."
				];
				var list = document.getElementById('feature-list');
				list.innerHTML = '';
				for(var i = 0; i < features.length; i++){
					list.innerHTML += '<li>' + features[i] + '</li>';
				}
			});

			$('#error-button').click(function(e){
				declaration.feed(e);
			});

		</script>
		
	</body>
</html>